
provider "aws" {
  region = "us-east-1"
}
module "test" {
  source = "../"
  region = "us-east-1"
  prefix = "test"
  project_cidr = "10.212.0.0/17"
  config = {
      cidrs = [
        "10.212.58.0/24",
        "10.212.59.0/24",
        "10.212.60.0/24",
        "10.212.61.0/24",
        "10.212.62.0/24"
      ],
      zones = [
        {
          name = "us-east-1a",
          cidr = "10.212.58.0/24",
          subnets = {
            ingress = "10.212.58.0/27",
            egress  = "10.212.58.32/27",
            app     = "10.212.58.64/26",
            db      = "10.212.58.128/26",
            mgmt    = "10.212.58.192/27",
            devops  = "10.212.58.224/27"
          }
        },
        {
          name = "us-east-1b",
          cidr = "10.212.59.0/24",
          subnets = {
            ingress = "10.212.59.0/27",
            egress  = "10.212.59.32/27",
            app     = "10.212.59.64/26",
            db      = "10.212.59.128/26",
            mgmt    = "10.212.59.192/27",
            devops  = "10.212.59.224/27"
          }
        },
        {
          name = "us-east-1c",
          cidr = "10.212.60.0/24",
          subnets = {
            ingress = "10.212.60.0/27",
            egress  = "10.212.60.32/27",
            app     = "10.212.60.64/26",
            db      = "10.212.60.128/26",
            mgmt    = "10.212.60.192/27",
            devops  = "10.212.60.224/27"
          }
        },
        {
          name = "us-east-1d",
          cidr = "10.212.61.0/24",
          subnets = {
            ingress = "10.212.61.0/27",
            egress  = "10.212.61.32/27",
            app     = "10.212.61.64/26",
            db      = "10.212.61.128/26",
            mgmt    = "10.212.61.192/27",
            devops  = "10.212.61.224/27"
          }
        },
        {
          name = "us-east-1e",
          cidr = "10.212.62.0/24",
          subnets = {
            ingress = "10.212.62.0/27",
            egress  = "10.212.62.32/27",
            app     = "10.212.62.64/26",
            db      = "10.212.62.128/26",
            mgmt    = "10.212.62.192/27",
            devops  = "10.212.62.224/27"
          }
        }
      ]
    }
}
